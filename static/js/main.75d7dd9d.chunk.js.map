{"version":3,"sources":["const/config.js","api/vastsApi.js","context/VastsContext.js","context/actionTypes/vastsActions.js","context/createDataContext.js","context/reducers/vastsReducer.js","components/icons.js","components/Table.js","App.js","serviceWorker.js","index.js"],"names":["url","instance","axios","create","baseURL","getVastsApiCall","a","get","vasts","data","reduce","acc","vast","id","createVastApiCall","position","width","height","vastUrl","post","updateVastApiCall","vastId","patched","removeVastApiCall","delete","getVastXmlApiCall","xml","catchError","err","dispatch","errorMessage","response","message","console","error","type","payload","reducer","actions","defaultValues","Context","React","createContext","Provider","children","useReducer","state","boundActions","Object","keys","key","value","createDataContext","loading","vastChanging","remainingIds","filter","addVast","updateVast","fetchVasts","removeVast","TableIcon","styled","div","TableXMLIcon","props","style","verticalAlign","tableIcons","Add","forwardRef","ref","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","MaterialTableDemo","useContext","VastsContext","useEffect","length","xmlClicked","useCallback","blob","Blob","URL","createObjectURL","window","open","revokeObjectURL","useState","columns","title","field","align","readOnly","render","rowData","onClick","display","flex","marginLeft","color","values","icons","editable","onRowAdd","newData","log","onRowUpdate","oldData","onRowDelete","App","className","Boolean","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.75d7dd9d.chunk.js","sourcesContent":["// export const LOCAL_IP = \"192.168.43.216\";\nexport const LOCAL_IP = \"localhost\";\nexport const PORT = 5000;\n\nconst DEV_PATH = `http://${LOCAL_IP}:${PORT}`;\nconst PROD_PATH = `https://cheq-home-assignment.herokuapp.com`;\nexport const url = DEV_PATH + \"/v1/vasts\";\n","import axios from \"axios\";\nimport { url } from \"../const/config\";\n\nconst instance = axios.create({\n  baseURL: url\n});\n\nexport const getVastsApiCall = async () => {\n  const {\n    data: { vasts }\n  } = await instance.get(\"/fetch_vasts\");\n  return vasts.reduce((acc, vast) => ({ ...acc, [vast.id]: vast }), {});\n};\n\nexport const getVastApiCall = async id => {\n  const vast = await instance.get(`?id=${id}`);\n  return vast;\n};\n\nexport const createVastApiCall = async (position, width, height, vastUrl) => {\n  const vast = await instance.post(\"/create_vast\", {\n    position,\n    height,\n    width,\n    vastUrl\n  });\n  return vast;\n};\nexport const updateVastApiCall = async ({\n  vastId,\n  position,\n  width,\n  height,\n  vastUrl\n}) => {\n  const patched = await instance.post(\"/edit_vast\", {\n    vastId,\n    position,\n    height,\n    width,\n    vastUrl\n  });\n  return patched;\n};\n\nexport const removeVastApiCall = async id => {\n  const { data } = await instance.delete(`?id=${id}`);\n  return data;\n};\n\nexport const getVastXmlApiCall = async id => {\n  const { data: xml } = await instance.get(`?id=${id}`);\n\n  return xml;\n};\n\nexport default instance;\n","import createDataContext from \"./createDataContext\";\nimport vastsReducer, { initialState } from \"./reducers/vastsReducer\";\nimport axios, {\n  getVastsApiCall,\n  createVastApiCall,\n  updateVastApiCall,\n  removeVastApiCall\n} from \"../api/vastsApi\";\nimport {\n  ADD_VAST,\n  SET_VASTS,\n  UPDATE_VAST,\n  SET_ERROR,\n  REMOVE_VAST\n} from \"./actionTypes/vastsActions\";\n\nconst catchError = (err, dispatch) => {\n  const errorMessage = err.response ? err.response.data : err.message;\n  console.error(errorMessage);\n  dispatch({ type: SET_ERROR, payload: { error: errorMessage } });\n};\n\nconst addVast = dispatch => async ({ position, width, height, vastUrl }) => {\n  try {\n    const { data: vast } = await createVastApiCall(\n      position,\n      height,\n      width,\n      vastUrl\n    );\n    debugger;\n    dispatch({ type: ADD_VAST, payload: { vast } });\n  } catch (err) {\n    catchError(err, dispatch);\n  }\n};\n\nconst updateVast = dispatch => async vast => {\n  try {\n    const { data } = await updateVastApiCall(vast);\n    dispatch({ type: UPDATE_VAST, payload: { patched: data } });\n  } catch (err) {\n    catchError(err, dispatch);\n  }\n};\n\nconst fetchVasts = dispatch => async () => {\n  try {\n    const vasts = await getVastsApiCall();\n    dispatch({ type: SET_VASTS, payload: { vasts } });\n  } catch (err) {\n    catchError(err, dispatch);\n  }\n};\n\nconst removeVast = dispatch => async id => {\n  try {\n    await removeVastApiCall(id);\n    dispatch({ type: REMOVE_VAST, payload: { id } });\n  } catch (err) {\n    catchError(err, dispatch);\n  }\n};\n\nexport const { Provider, Context } = createDataContext(\n  vastsReducer,\n  {\n    addVast,\n    updateVast,\n    fetchVasts,\n    removeVast\n  },\n  initialState\n);\n","export const REMOVE_VAST = \"REMOVE_VAST\";\nexport const ADD_VAST = \"ADD_VAST\";\nexport const UPDATE_VAST = \"UPDATE_VAST\";\nexport const SET_VASTS = \"SET_VASTS\";\nexport const SET_ERROR = \"SET_ERROR\";\n\nexport const SET = \"SET\";\nexport const SET_ID = \"SET_ID\";\nexport const SET_URL = \"SET_URL\";\nexport const SET_WIDTH = \"SET_WIDTH\";\nexport const SET_HEIGHT = \"SET_HEIGHT\";\nexport const SET_POSITION = \"SET_POSITION\";\n","import React, { useReducer } from \"react\";\n\n// a context constructor that uses reducer\n// params :\n//  reducer : a reducer function\n//  actions : a list of actions that are based on that reducer's dispatch\n//  defaultValues: the context's initialState\n\nexport default (reducer, actions, defaultValues) => {\n  const Context = React.createContext();\n\n  const Provider = ({ children }) => {\n    const [state, dispatch] = useReducer(reducer, defaultValues);\n\n    const boundActions = Object.keys(actions).reduce(\n      (acc, key) => ({\n        ...acc,\n        [key]: actions[key](dispatch)\n      }),\n      {}\n    );\n    return (\n      <Context.Provider value={{ state, ...boundActions }}>\n        {children}\n      </Context.Provider>\n    );\n  };\n\n  return { Context, Provider };\n};\n","import {\n  SET_ERROR,\n  ADD_VAST,\n  UPDATE_VAST,\n  REMOVE_VAST,\n  SET_VASTS\n} from \"../actionTypes/vastsActions\";\n\nexport const initialState = {\n  vasts: [],\n  loading: false,\n  error: \"\"\n};\n\nexport default (state, { type, payload }) => {\n  switch (type) {\n    case SET_ERROR:\n      const { error } = payload;\n      return { ...state, error, loading: false };\n\n    case ADD_VAST:\n      const { vast } = payload;\n      return {\n        ...state,\n        error: \"\",\n        loading: false,\n        vasts: { ...state.vasts, [vast.id]: vast }\n      };\n\n    case SET_VASTS:\n      const { vasts } = payload;\n      return {\n        ...state,\n        loading: true,\n        vasts,\n        error: \"\"\n      };\n\n    case UPDATE_VAST:\n      const { patched } = payload;\n\n      const vastChanging = state.vasts[patched.id];\n\n      return {\n        ...state,\n        vasts: { ...state.vasts, [vastChanging.id]: patched },\n        loading: false,\n        error: \"\"\n      };\n\n    case REMOVE_VAST:\n      const { id } = payload;\n      const remainingIds = Object.keys(state.vasts).filter(\n        vastId => vastId != id\n      );\n\n      return {\n        ...state,\n        vasts: remainingIds.reduce(\n          (acc, id) => ({ ...acc, [id]: state.vasts[id] }),\n          {}\n        ),\n        loading: false,\n        error: \"\"\n      };\n\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\nimport NavigateBeforeIcon from \"@material-ui/icons/NavigateBefore\";\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\nimport styled from \"styled-components\";\n\nconst TableIcon = styled.div`\n  background-color: rgba(0, 0, 0, 0.2);\n  display: inline;\n  padding: 6px;\n  border-radius: 5px;\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nexport const TableXMLIcon = props => {\n  return (\n    <TableIcon {...props}>\n      <NavigateBeforeIcon style={{ verticalAlign: \"bottom\" }} />\n      <text>Xml</text>\n      <NavigateNextIcon style={{ verticalAlign: \"bottom\" }} />\n    </TableIcon>\n  );\n};\n","import React, { useContext, useEffect, useState, useCallback } from \"react\";\nimport MaterialTable from \"material-table\";\nimport { forwardRef } from \"react\";\n\nimport AddBox from \"@material-ui/icons/AddBox\";\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\nimport Check from \"@material-ui/icons/Check\";\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\nimport Clear from \"@material-ui/icons/Clear\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport FilterList from \"@material-ui/icons/FilterList\";\nimport FirstPage from \"@material-ui/icons/FirstPage\";\nimport LastPage from \"@material-ui/icons/LastPage\";\nimport Remove from \"@material-ui/icons/Remove\";\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\nimport Search from \"@material-ui/icons/Search\";\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\nimport { TableXMLIcon } from \"./icons\";\n\nimport { Context as VastsContext } from \"../context/VastsContext\";\nimport { getVastXmlApiCall } from \"../api/vastsApi\";\n\nconst tableIcons = {\n  Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n  Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n  Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n  DetailPanel: forwardRef((props, ref) => (\n    <ChevronRight {...props} ref={ref} />\n  )),\n  Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n  Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n  Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n  FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n  LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n  NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n  PreviousPage: forwardRef((props, ref) => (\n    <ChevronLeft {...props} ref={ref} />\n  )),\n  ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n  SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\n  ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n  ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\n};\n\nexport default function MaterialTableDemo() {\n  const {\n    state: { vasts, error },\n    fetchVasts,\n    addVast,\n    updateVast,\n    removeVast\n  } = useContext(VastsContext);\n\n  useEffect(() => {\n    if (vasts.length === 0) {\n      fetchVasts();\n    }\n  }, []);\n\n  const xmlClicked = useCallback(async id => {\n    const xml = await getVastXmlApiCall(id);\n    let blob = new Blob([xml], { type: \"text/xml\" });\n    let url = URL.createObjectURL(blob);\n    window.open(url);\n    URL.revokeObjectURL(url); //Releases the resources\n  }, []);\n\n  const [state, setState] = React.useState({\n    columns: [\n      { title: \"Vast Url\", field: \"vastUrl\" },\n      { title: \"Position\", field: \"position\" },\n      { title: \"Width\", field: \"width\", type: \"numeric\" },\n      { title: \"Height\", field: \"height\", type: \"numeric\" },\n      {\n        title: \"Actions\",\n        align: \"right\",\n        readOnly: true,\n\n        render: rowData => {\n          return (\n            <TableXMLIcon\n              onClick={() => xmlClicked(rowData.id)}\n              id={rowData.id}\n            />\n          );\n        }\n      }\n    ]\n  });\n\n  return (\n    <MaterialTable\n      title={\n        <div style={{ display: \"flex\" }}>\n          <span style={{ flex: 1 }}>Vasts Table</span>\n          {error && (\n            <div style={{ marginLeft: \"30px\", color: \"red\" }}>\n              {error.message}\n            </div>\n          )}\n        </div>\n      }\n      columns={state.columns}\n      data={Object.values(vasts)}\n      icons={tableIcons}\n      editable={{\n        onRowAdd: async newData => {\n          console.log(\"addRow\", newData);\n          const res = await addVast(newData);\n        },\n        onRowUpdate: async (newData, oldData) => {\n          console.log(\"addRow\", oldData.id, newData);\n\n          await updateVast({ vastId: oldData.id, ...newData });\n        },\n        onRowDelete: async oldData => {\n          console.log(\"removeRow\", oldData.id);\n          await removeVast(oldData.id);\n        }\n      }}\n    />\n  );\n}\n","import React from \"react\";\nimport { Provider as VastsProvider } from \"./context/VastsContext\";\nimport Table from \"./components/Table\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <VastsProvider>\n      <div className=\"App\">\n        <Table />\n      </div>\n    </VastsProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}