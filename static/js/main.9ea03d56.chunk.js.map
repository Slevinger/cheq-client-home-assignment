{"version":3,"sources":["api/vastsApi.js","const/config.js","context/VastsContext.js","context/createDataContext.js","context/reducers/vastsReducer.js","context/actionTypes/vastsActions.js","components/icons.js","utils/XML.js","components/Table.js","components/Errors.js","App.js","index.js"],"names":["instance","axios","create","baseURL","PROD_PATH","callGetVastsApi","a","get","vasts","data","reduce","acc","vast","id","callCreateVastApi","position","width","height","vastUrl","post","callUpdateVastApi","vastId","callRemoveVastApi","delete","callGetVastXmlApi","catchErrorMessage","err","response","message","reducer","actions","defaultValues","Context","React","createContext","Provider","children","useReducer","state","dispatch","boundActions","Object","keys","key","value","createDataContext","type","payload","error","loading","patched","vastChanging","remainingIds","filter","addVast","errorMessage","updateVast","fetchVasts","removeVast","setError","GrayBG","styled","div","XmlIcon","TableXMLIcon","props","style","verticalAlign","tableIcons","Add","forwardRef","ref","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","openXmlInNewTab","xmlStr","blob","Blob","url","URL","createObjectURL","window","open","revokeObjectURL","positionValues","useContext","VastsContext","useEffect","length","xmlClicked","useCallback","xml","useMemo","columns","title","field","lookup","align","readOnly","render","onClick","values","icons","editable","onRowAdd","newData","console","log","onRowUpdate","oldData","onRowDelete","Alert","elevation","variant","useStyles","makeStyles","theme","root","marginTop","spacing","classes","useState","setOpen","className","Snackbar","onClose","event","reason","severity","App","Errors","Table","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9ea03d56.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { vastServiceUrl } from \"../const/config\";\n\nconst instance = axios.create({\n  baseURL: vastServiceUrl\n});\n\nexport const callGetVastsApi = async () => {\n  const {\n    data: { vasts }\n  } = await instance.get(\"/fetch_vasts\");\n  return vasts.reduce((acc, vast) => ({ ...acc, [vast.id]: vast }), {});\n};\n\nexport const getVastApiCall = async id => {\n  const vast = await instance.get(`?id=${id}`);\n  return vast;\n};\n\nexport const callCreateVastApi = async (position, width, height, vastUrl) => {\n  const { data } = await instance.post(\"/create_vast\", {\n    position,\n    height,\n    width,\n    vastUrl\n  });\n  return data;\n};\nexport const callUpdateVastApi = async ({\n  vastId,\n  position,\n  width,\n  height,\n  vastUrl\n}) => {\n  const { data } = await instance.post(\"/edit_vast\", {\n    vastId,\n    position,\n    height,\n    width,\n    vastUrl\n  });\n  return data;\n};\n\nexport const callRemoveVastApi = async id => {\n  const { data } = await instance.delete(`?id=${id}`);\n  return data;\n};\n\nexport const callGetVastXmlApi = async id => {\n  debugger;\n  const { data } = await instance.get(`?id=${id}`);\n  return data;\n};\n\nexport default instance;\n","// export const LOCAL_IP = \"192.168.43.216\";\nexport const LOCAL_IP = \"localhost\";\nexport const PORT = 5000;\n\nconst DEV_PATH = `http://${LOCAL_IP}:${PORT}`;\nconst PROD_PATH = `https://cheq-home-assignment.herokuapp.com`;\nexport const vastServiceUrl = PROD_PATH + \"/v1/vasts\";\n","import createDataContext from \"./createDataContext\";\nimport vastsReducer, { initialState } from \"./reducers/vastsReducer\";\nimport {\n  callGetVastsApi,\n  callCreateVastApi,\n  callUpdateVastApi,\n  callRemoveVastApi\n} from \"../api/vastsApi\";\nimport {\n  SET_VASTS,\n  UPDATE_VAST,\n  REMOVE_VAST,\n  ADD_VAST,\n  SET_ERROR\n} from \"./actionTypes/vastsActions\";\n\nconst catchErrorMessage = err => {\n  debugger;\n\n  const errorMessage = err.response ? err.response.data.message : err.message;\n  return errorMessage;\n};\n\nconst setError = dispatch => message => {\n  dispatch({ type: SET_ERROR, payload: { error: message } });\n};\n\nconst addVast = dispatch => async ({ position, width, height, vastUrl }) => {\n  try {\n    const vast = await callCreateVastApi(position, height, width, vastUrl);\n    debugger;\n    dispatch({ type: ADD_VAST, payload: { vast } });\n  } catch (err) {\n    debugger;\n    const errorMessage = catchErrorMessage(err);\n    dispatch({ type: SET_ERROR, payload: { error: errorMessage } });\n  }\n};\n\nconst updateVast = dispatch => async vast => {\n  try {\n    const patched = await callUpdateVastApi(vast);\n    dispatch({ type: UPDATE_VAST, payload: { patched } });\n  } catch (err) {\n    const errorMessage = catchErrorMessage(err);\n    dispatch({ type: SET_ERROR, payload: { error: errorMessage } });\n  }\n};\n\nconst fetchVasts = dispatch => async () => {\n  try {\n    const vasts = await callGetVastsApi();\n    dispatch({ type: SET_VASTS, payload: { vasts } });\n  } catch (err) {\n    const errorMessage = catchErrorMessage(err);\n    dispatch({ type: SET_ERROR, payload: { error: errorMessage } });\n  }\n};\n\nconst removeVast = dispatch => async id => {\n  try {\n    await callRemoveVastApi(id);\n    dispatch({ type: REMOVE_VAST, payload: { id } });\n  } catch (err) {\n    const errorMessage = catchErrorMessage(err);\n    dispatch({ type: SET_ERROR, payload: { error: errorMessage } });\n  }\n};\n\nexport const { Provider, Context } = createDataContext(\n  vastsReducer,\n  {\n    addVast,\n    updateVast,\n    fetchVasts,\n    removeVast,\n    setError\n  },\n  initialState\n);\n","import React, { useReducer } from \"react\";\n\n// a context constructor that uses reducer\n// params :\n//  reducer : a reducer function\n//  actions : a list of actions that are based on that reducer's dispatch\n//  defaultValues: the context's initialState\n\nexport default (reducer, actions, defaultValues) => {\n  const Context = React.createContext();\n\n  const Provider = ({ children }) => {\n    const [state, dispatch] = useReducer(reducer, defaultValues);\n\n    const boundActions = Object.keys(actions).reduce(\n      (acc, key) => ({\n        ...acc,\n        [key]: actions[key](dispatch)\n      }),\n      {}\n    );\n    return (\n      <Context.Provider value={{ state, ...boundActions }}>\n        {children}\n      </Context.Provider>\n    );\n  };\n\n  return { Context, Provider };\n};\n","import {\n  SET_ERROR,\n  ADD_VAST,\n  UPDATE_VAST,\n  REMOVE_VAST,\n  SET_VASTS\n} from \"../actionTypes/vastsActions\";\n\nexport const initialState = {\n  vasts: [],\n  loading: false,\n  error: \"\"\n};\n\nexport default (state, { type, payload }) => {\n  debugger;\n  switch (type) {\n    case SET_ERROR:\n      const { error } = payload;\n      return { ...state, error, loading: false };\n\n    case ADD_VAST:\n      const { vast } = payload;\n      return {\n        ...state,\n        error: \"\",\n        loading: false,\n        vasts: { ...state.vasts, [vast.id]: vast }\n      };\n\n    case SET_VASTS:\n      const { vasts } = payload;\n      return {\n        ...state,\n        loading: true,\n        vasts,\n        error: \"\"\n      };\n\n    case UPDATE_VAST:\n      const { patched } = payload;\n\n      const vastChanging = state.vasts[patched.id];\n\n      return {\n        ...state,\n        vasts: { ...state.vasts, [vastChanging.id]: patched },\n        loading: false,\n        error: \"\"\n      };\n\n    case REMOVE_VAST:\n      const { id } = payload;\n      const remainingIds = Object.keys(state.vasts).filter(\n        vastId => vastId != id\n      );\n\n      return {\n        ...state,\n        vasts: remainingIds.reduce(\n          (acc, id) => ({ ...acc, [id]: state.vasts[id] }),\n          {}\n        ),\n        loading: false,\n        error: \"\"\n      };\n\n    default:\n      return state;\n  }\n};\n","export const REMOVE_VAST = \"REMOVE_VAST\";\nexport const ADD_VAST = \"ADD_VAST\";\nexport const UPDATE_VAST = \"UPDATE_VAST\";\nexport const SET_VASTS = \"SET_VASTS\";\nexport const SET_ERROR = \"SET_ERROR\";\n","import React, { forwardRef } from \"react\";\nimport NavigateBeforeIcon from \"@material-ui/icons/NavigateBefore\";\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\n\nimport AddBox from \"@material-ui/icons/AddBox\";\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\nimport Check from \"@material-ui/icons/Check\";\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\nimport Clear from \"@material-ui/icons/Clear\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport FilterList from \"@material-ui/icons/FilterList\";\nimport FirstPage from \"@material-ui/icons/FirstPage\";\nimport LastPage from \"@material-ui/icons/LastPage\";\nimport Remove from \"@material-ui/icons/Remove\";\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\nimport Search from \"@material-ui/icons/Search\";\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\nimport styled from \"styled-components\";\n\nconst GrayBG = styled.div`\n  background-color: rgba(0, 0, 0, 0.2);\n  padding: 6px;\n  border-radius: 5px;\n`;\nconst XmlIcon = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nexport const TableXMLIcon = props => {\n  return (\n    <XmlIcon {...props}>\n      <GrayBG>\n        <NavigateBeforeIcon style={{ verticalAlign: \"bottom\" }} />\n        <span>Xml</span>\n        <NavigateNextIcon style={{ verticalAlign: \"bottom\" }} />\n      </GrayBG>\n    </XmlIcon>\n  );\n};\n\nexport const tableIcons = {\n  Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n  Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n  Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n  DetailPanel: forwardRef((props, ref) => (\n    <ChevronRight {...props} ref={ref} />\n  )),\n  Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n  Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n  Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n  FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n  LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n  NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n  PreviousPage: forwardRef((props, ref) => (\n    <ChevronLeft {...props} ref={ref} />\n  )),\n  ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n  SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\n  ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n  ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\n};\n","export const openXmlInNewTab = xmlStr => {\n  let blob = new Blob([xmlStr], { type: \"text/xml\" });\n  let url = URL.createObjectURL(blob);\n  window.open(url);\n  URL.revokeObjectURL(url);\n};\n","import React, { useContext, useEffect, useCallback, useMemo } from \"react\";\nimport MaterialTable from \"material-table\";\nimport { Context as VastsContext } from \"../context/VastsContext\";\nimport { callGetVastXmlApi } from \"../api/vastsApi\";\nimport { TableXMLIcon, tableIcons } from \"./icons\";\nimport { openXmlInNewTab } from \"../utils/XML\";\n\nconst positionValues = [\n  \"top_left\",\n  \"top_middle\",\n  \"top_right\",\n  \"middle_left\",\n  \"middle_right\",\n  \"middle_middle\",\n  \"bottom_left\",\n  \"bottom_middle\",\n  \"bottom_right\"\n];\n\nexport default () => {\n  const {\n    state: { vasts },\n    ...actions\n  } = useContext(VastsContext);\n  const { fetchVasts, addVast, updateVast, removeVast } = actions;\n  useEffect(() => {\n    if (vasts.length === 0) {\n      fetchVasts();\n    }\n  }, []);\n\n  const xmlClicked = useCallback(async id => {\n    const xml = await callGetVastXmlApi(id);\n    openXmlInNewTab(xml);\n  }, []);\n\n  const state = useMemo(\n    () => ({\n      columns: [\n        { title: \"Vast Url\", field: \"vastUrl\" },\n        {\n          title: \"Position\",\n          field: \"position\",\n          lookup: positionValues.reduce(\n            (acc, position) => ({ ...acc, [position]: position }),\n            {}\n          )\n        },\n        { title: \"Width\", field: \"width\", type: \"numeric\" },\n        { title: \"Height\", field: \"height\", type: \"numeric\" },\n        {\n          title: \"Actions\",\n          align: \"right\",\n          readOnly: true,\n\n          render: ({ id, ...rest }) => {\n            debugger;\n            return <TableXMLIcon onClick={() => xmlClicked(id)} id={id} />;\n          }\n        }\n      ]\n    }),\n    []\n  );\n\n  return (\n    <MaterialTable\n      title={\"Vasts Table\"}\n      columns={state.columns}\n      data={Object.values(vasts)}\n      icons={tableIcons}\n      editable={{\n        onRowAdd: async newData => {\n          console.log(\"addRow\", newData);\n          debugger;\n          await addVast(newData);\n        },\n        onRowUpdate: async (newData, oldData) => {\n          console.log(\"addRow\", oldData.id, newData);\n          await updateVast({ vastId: oldData.id, ...newData });\n        },\n        onRowDelete: async oldData => {\n          console.log(\"removeRow\", oldData.id);\n          await removeVast(oldData.id);\n        }\n      }}\n    />\n  );\n};\n","import React, { useState, useContext, useEffect } from \"react\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Context as VastsContext } from \"../context/VastsContext\";\n\nconst Alert = props => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2)\n    }\n  }\n}));\n\nexport default () => {\n  const classes = useStyles();\n\n  const {\n    state: { error },\n    ...actions\n  } = useContext(VastsContext);\n  const { setError } = actions;\n  const [open, setOpen] = useState(error);\n\n  useEffect(() => {\n    setOpen(error);\n  }, [error]);\n\n  const handleClose = (event, reason) => {\n    setError(null);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Snackbar open={open} onClose={handleClose}>\n        <Alert severity=\"error\">{error}</Alert>\n      </Snackbar>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Provider as VastsProvider } from \"./context/VastsContext\";\nimport Table from \"./components/Table\";\nimport \"./App.css\";\nimport Errors from \"./components/Errors\";\n\nfunction App() {\n  return (\n    <VastsProvider>\n      <Errors />\n      <Table />\n    </VastsProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}